name: stage2-fhs-dirs
kind: chunk
description: create the FHS 2.3 directory hierarchy and the usual files
install-commands:
- sh ./create-fhs-dirs "$DESTDIR"
- rmdir "$DESTDIR/bin"
- ln -s "$PREFIX/bin" "$DESTDIR/bin"
- install -m 644 passwd "$DESTDIR/etc/passwd"
- install -m 600 shadow "$DESTDIR/etc/shadow"
- install -m 644 interfaces "$DESTDIR/etc/network/interfaces"
- install -m 644 group "$DESTDIR/etc/group"
- install -m 644 ld.so.conf "$DESTDIR/etc/ld.so.conf"
- install -m 644 issue "$DESTDIR/etc/issue"
- install -m 644 services "$DESTDIR/etc/services"
- install -m 644 protocols "$DESTDIR/etc/protocols"
- echo baserock > "$DESTDIR"/etc/hostname
devices:
- filename: /dev/console
  uid: 0
  gid: 0
  type: c
  major: 5
  minor: 1
  permissions: '0600'
- filename: /dev/full
  uid: 0
  gid: 0
  type: c
  major: 1
  minor: 7
  permissions: '0666'
- filename: /dev/null
  uid: 0
  gid: 0
  type: c
  major: 1
  minor: 3
  permissions: '0666'
- filename: /dev/urandom
  uid: 0
  gid: 0
  type: c
  major: 1
  minor: 9
  permissions: '0666'
- filename: /dev/zero
  uid: 0
  gid: 0
  type: c
  major: 1
  minor: 5
  permissions: '0666'
